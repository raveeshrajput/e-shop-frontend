@if(product){
    <div class="container py-5">
        <div class="row">
            <!-- Product Gallery -->
            <div class="col-md-6">
                <div id="productCarousel" class="carousel slide" data-bs-ride="carousel">
                    <div class="carousel-inner">
                        <img [src]="mainImage" alt="mainImage" class="w-100 h-96">
                        <div *ngFor="let url of product.images; let i = index" class="carousel-item" style="height: 500px"
                            [class.active]="i === 0">
                            <img [src]="url" class="d-block w-100" alt="Product Image" (click)="changeImage(url)">
                        </div>
                    </div>
                    <!-- Carousel Controls -->
                    <button class="carousel-control-prev" type="button" data-bs-target="#productCarousel"
                        data-bs-slide="prev">
                        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                        <span class="visually-hidden">Previous</span>
                    </button>
                    <button class="carousel-control-next" type="button" data-bs-target="#productCarousel"
                        data-bs-slide="next">
                        <span class="carousel-control-next-icon" aria-hidden="true"></span>
                        <span class="visually-hidden">Next</span>
                    </button>
                </div>
            </div>
    
            <!-- Product Details -->
            <div class="col-md-6">
                <h2>{{ product.name }}</h2>
                <p class="text-muted">Category: Electronics</p>
                <div class="d-flex gap-8">
                    <span class="text-danger fw-bold fs-5"><s>{{product.price}}₹</s></span>
                    <span class="text-warning ms-5 fw-bold fs-5">{{product.discount}}% OFF</span>
                    <span class="text-success  ms-5 fw-bold fs-5">{{sellingPrice}}₹</span>
                </div>
                <p class="mt-3">{{ product.shortDescription }}</p>
                <!-- Product Description and Reviews -->
                <div class="row mt-5">
                    <div class="col-md-12">
                        <ul class="nav nav-tabs" id="productTabs">
                            <li class="nav-item">
                                <a class="nav-link active" data-bs-toggle="tab" href="#description">Description</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" data-bs-toggle="tab" href="#details">Product Details</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" data-bs-toggle="tab" href="#reviews">Reviews</a>
                            </li>
                        </ul>
                        <div class="tab-content mt-3">
                            <div class="tab-pane fade show active" id="description">
                                <p>{{ product.description }}</p>
                            </div>
                            <div class="tab-pane fade" id="details">
                                <ul>
                                    <li>Feature 1: High-quality materials</li>
                                    <li>Feature 2: Energy efficient</li>
                                    <li>Feature 3: Compact design</li>
                                </ul>
                            </div>
                            <div class="tab-pane fade" id="reviews">
                                <div class="mb-3">
                                    <strong>John Doe</strong>
                                    <p>★★★★★ - Excellent product! Highly recommended.</p>
                                </div>
                                <div class="mb-3">
                                    <strong>Jane Smith</strong>
                                    <p>★★★★☆ - Good quality but could be improved.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
               <div class="d-flex gap-8">
                <button mat-raised-button color="accent" (click)="addToWishList(product)">
                    @if(isInWishlist(product)){
                        <mat-icon class="text-danger">favorite</mat-icon>Remove From Wishlist
                    } @else {
                        <mat-icon class="text-danger">favorite_border</mat-icon>Add to Wishlist
                    }
                    
                </button>
                <button mat-raised-button class="text-primary">Add to Cart</button>
               </div>
            </div>
            @if (similarProduct.length){
            <h4 class="fw-bold mb-4 mt-5">Similar Products</h4>
            <div class="row gy-4">
                @for(product of similarProduct; track $index) {
                <div class="col-lg-3 col-md-6 col-sm-12">
                    <app-product-card [product]="product"></app-product-card>
                </div>
                }
            </div>}
        </div>
    </div>
} @else {
    <h2>Loading...</h2>
}